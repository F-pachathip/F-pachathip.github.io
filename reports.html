<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LabCam — รายงาน</title>
  <meta name="description" content="ดูสรุปผลที่บันทึก กรองข้อมูล สร้างกราฟ และดาวน์โหลด CSV (ต้องล็อกอิน)" />
  <link rel="canonical" href="reports.html" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="style.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js" crossorigin="anonymous"></script>
  <script defer src="script.js"></script>
</head>
<body data-page="reports">
  <header class="site-header">
    <div class="brand"><a href="index.html" class="brand-link">LabCam</a></div>
    <button class="hamburger" aria-label="Toggle navigation" aria-controls="site-nav" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
    <nav>
      <ul class="navlist" id="site-nav">
        <li><a data-i18n="nav_home" href="index.html">หน้าแรก</a></li>
        <li><a data-i18n="nav_analysis" href="analysis.html">วิเคราะห์</a></li>
        <li><a data-i18n="nav_reports" href="reports.html" class="active">รายงาน</a></li>
        <li><a data-i18n="nav_csv" href="csv.html">CSV Vault</a></li>
      </ul>
    </nav>

    <div class="auth">
      <a id="loginLink" class="btn btn-ghost" href="login.html" data-i18n="nav_login">เข้าสู่ระบบ</a>
      <a id="registerLink" class="btn btn-ghost" href="register.html" data-i18n="nav_register">สมัครสมาชิก</a>
      <button id="logoutBtn" class="btn btn-ghost" style="display:none" data-i18n="nav_logout">ออกจากระบบ</button>
    </div>

    <div class="lang">
      <button id="langToggle" class="btn btn-ghost" aria-label="Toggle language">ภาษาไทย</button>
    </div>
  </header>

  <main class="container">
    <h1 data-i18n="reports_title">รายงานผล</h1>

    <section class="card">
      <div class="filters">
        <label>
          <span data-i18n="filter_reagent">รีเอเจนต์</span>
          <select id="filterReagent">
            <option value="" data-i18n="all">ทั้งหมด</option>
          </select>
        </label>
        <label>
          <span data-i18n="filter_sample">สิ่งตัวอย่าง</span>
          <input id="filterSample" placeholder="เช่น น้ำ A" />
        </label>
        <button id="applyFiltersBtn" class="btn" data-i18n="btn_apply_filters">ใช้ตัวกรอง</button>
        <button id="resetFiltersBtn" class="btn btn-ghost" data-i18n="btn_reset_filters">ล้างตัวกรอง</button>
        <div class="spacer"></div>
        <button id="downloadReportBtn" class="btn btn-outline" data-i18n="btn_download_csv">ดาวน์โหลด CSV</button>
        <button id="clearHistoryBtn" class="btn btn-danger" data-i18n="btn_clear_history">ล้างประวัติทั้งหมด</button>
      </div>
    </section>

    <section class="card">
      <h3 data-i18n="chart_title">แนวโน้มตามเวลา</h3>
      <canvas id="trendChart" height="220" aria-label="Trend chart"></canvas>
    </section>

    <section class="card">
      <h3 data-i18n="list_title">รายการผล</h3>
      <div id="nitrateReports" class="list"></div>
    </section>
  </main>

  <footer class="site-footer">
    <span>&copy; 2025 LabCam</span>
  </footer>
</body>
</html>